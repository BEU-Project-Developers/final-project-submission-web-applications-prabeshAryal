@model IEnumerable<MusicApp.Models.Album>
@{
    ViewData["Title"] = "Albums";
    Random randomGen = new Random();
    string GetRandomImageUrl(int width, int height)
    {
        int randomId = randomGen.Next(1, 1085);
        return $"https://picsum.photos/id/{randomId}/{width}/{height}";
    }
}
<link href="/css/style.css" rel="stylesheet" type="text/css" />
<div class="albums-content-wrapper" style="max-width:1000px;margin:0 auto;">
    <h2 style="color:#fff;font-weight:500;font-size:1.5rem;margin:32px 0 24px 12px;font-family:Tahoma,Arial,sans-serif;">Albums</h2>
    <div class="row" style="display:flex;gap:32px;flex-wrap:wrap;justify-content:flex-start;">
        @foreach (var album in Model)
        {
            var coverUrl = string.IsNullOrEmpty(album.CoverImageUrl) ? GetRandomImageUrl(120, 120) : album.CoverImageUrl;
            <div style="text-align:center;background:#181e2a;padding:1rem 1.5rem;border-radius:12px;box-shadow:0 2px 8px #2222;margin-bottom:18px;min-width:160px;max-width:180px;display:flex;flex-direction:column;align-items:center;">
                <a href="@Url.Action("Details", new { id = album.Id })" style="display:block;width:100%;">
                    <img src="@coverUrl" alt="@album.Title" style="width:120px;height:120px;border-radius:12px;object-fit:cover;box-shadow:0 2px 8px #2222;margin-bottom:10px;">
                </a>
                <div style="font-weight:bold;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;" title="@album.Title">@album.Title</div>
                <div style="color:#b0b8c1;font-size:0.98em;margin-top:4px;">
                    @if (!string.IsNullOrEmpty(album.Genre))
                    {
                        <span style="background:#232b3b;color:#b0b8c1;padding:2px 8px;border-radius:6px;font-size:0.92em;">@album.Genre</span>
                    }
                    @if (album.Year > 0)
                    {
                        <span style="margin-left:8px;">• @album.Year</span>
                    }
                </div>
            </div>
        }
    </div>
</div>
